<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sürücülük Akademiyası - Giriş</title>
    <style>
        /* Əvvəlki dizayn elementləri saxlanılır */
        body { background-color: #1a1a2e; color: #ffffff; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; height: 100vh; overflow: hidden; }
        
        /* Giriş Paneli (Auth Screen) */
        #auth-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            display: flex; justify-content: center; align-items: center; z-index: 1000;
        }
        .auth-container {
            background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(15px);
            padding: 40px; border-radius: 20px; border: 1px solid #00ff88;
            width: 350px; text-align: center; box-shadow: 0 0 30px rgba(0, 255, 136, 0.2);
        }
        .auth-container h2 { color: #00ff88; margin-bottom: 25px; }
        .auth-input {
            width: 100%; padding: 12px; margin-bottom: 15px; border-radius: 8px;
            border: 1px solid #333; background: rgba(0,0,0,0.3); color: white; outline: none; box-sizing: border-box;
        }
        .auth-btn {
            width: 100%; padding: 12px; background: #00ff88; color: #1a1a2e;
            border: none; border-radius: 8px; font-weight: bold; cursor: pointer; transition: 0.3s;
        }
        .auth-btn:hover { background: #00cc6a; transform: translateY(-2px); }
        .toggle-text { margin-top: 15px; font-size: 14px; color: #ccc; cursor: pointer; }
        .toggle-text b { color: #00ff88; }

        /* Oyun Sahəsi (İlkin olaraq gizli) */
        #game-interface { display: none; flex-direction: column; align-items: center; width: 100%; }
        
        /* Digər oyun dizaynların buraya gələcək (canvas, ui-panel və s.) */
        canvas { background-color: #2c3e50; border-radius: 10px; border: 4px solid #111; margin-top: 20px;}
        .top-bar { width: 90%; display: flex; justify-content: space-between; margin-top: 20px; }
        .ui-panel { background: rgba(0,0,0,0.6); padding: 15px; border-radius: 10px; border: 1px solid #00ff88; }
    </style>
</head>
<body>

    <div id="auth-screen">
        <div class="auth-container">
            <h2 id="auth-title">Qeydiyyat</h2>
            <input type="text" id="username" class="auth-input" placeholder="İstifadəçi adı">
            <input type="password" id="password" class="auth-input" placeholder="Şifrə">
            <button class="auth-btn" onclick="handleAuth()" id="auth-submit">Hesab Yarat</button>
            <p class="toggle-text" id="toggle-link" onclick="toggleAuth()">Artıq hesabın var? <b>Giriş et</b></p>
        </div>
    </div>

    <div id="game-interface">
        <div class="top-bar">
            <div class="ui-panel">
                <div style="font-size: 20px; font-weight: bold; color: #00ff88;">Bakiyə: <span id="balance">100</span> ₼</div>
                <div id="user-display" style="font-size: 14px; color: #aaa;">Oyunçu: ...</div>
            </div>
            <button onclick="logout()" style="background: #ff3333; color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer;">Çıxış</button>
        </div>
        
        <canvas id="gameCanvas" width="450" height="500"></canvas>
        <button id="brakeBtn" style="margin-top: 20px; padding: 20px 60px; background: red; color: white; font-weight: bold; border-radius: 50px; border: none; cursor: pointer;">TORMOZ VER!</button>
    </div>

    <script>
        let isLoginMode = false;

        function toggleAuth() {
            isLoginMode = !isLoginMode;
            document.getElementById("auth-title").innerText = isLoginMode ? "Giriş" : "Qeydiyyat";
            document.getElementById("auth-submit").innerText = isLoginMode ? "Giriş Et" : "Hesab Yarat";
            document.getElementById("toggle-link").innerHTML = isLoginMode ? "Hesabın yoxdur? <b>Qeydiyyatdan keç</b>" : "Artıq hesabın var? <b>Giriş et</b>";
        }

        function handleAuth() {
            const user = document.getElementById("username").value;
            const pass = document.getElementById("password").value;

            if (user.length < 3 || pass.length < 3) {
                alert("İstifadəçi adı və şifrə ən az 3 hərfdən ibarət olmalıdır!");
                return;
            }

            // Məlumat bazası hələ hazır olmadığı üçün LocalStorage simulyasiyası edirik
            if (isLoginMode) {
                // Giriş yoxlanışı
                const savedPass = localStorage.getItem("pass_" + user);
                if (savedPass === pass) {
                    enterGame(user);
                } else {
                    alert("Xətalı istifadəçi adı və ya şifrə!");
                }
            } else {
                // Qeydiyyat
                if (localStorage.getItem("pass_" + user)) {
                    alert("Bu istifadəçi adı artıq götürülüb!");
                } else {
                    localStorage.setItem("pass_" + user, pass);
                    localStorage.setItem("bal_" + user, 100);
                    alert("Hesab uğurla yaradıldı! İndi giriş edin.");
                    toggleAuth();
                }
            }
        }

        function enterGame(user) {
            document.getElementById("auth-screen").style.display = "none";
            document.getElementById("game-interface").style.display = "flex";
            document.getElementById("user-display").innerText = "Oyunçu: " + user;
            
            // Balansı yaddaşdan gətir
            let savedBal = localStorage.getItem("bal_" + user);
            document.getElementById("balance").innerText = savedBal;
            
            // Burada sənin əvvəlki oyun kodların (gameLoop və s.) işə düşəcək
            startGame();
        }

        function logout() {
            location.reload(); // Səhifəni yeniləyib giriş ekranına qayıt
        }

        function startGame() {
            // Sənin əvvəlki oyun kodların bura inteqrasiya olunacaq...
            console.log("Oyun başladı!");
        }
    </script>
</body>
</html>
